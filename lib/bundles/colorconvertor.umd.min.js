!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("tslib"),r=require("./utils/conversions"),e=require("./utils/inputParser"),o=require("./utils/utilities"),i=t.__importStar(require("./utils/namedColors"));class s{constructor(t){this._colorInput=null!=t?t:void 0,this._colorObj=(0,e.inputParser)(this._colorInput),this._rgbObj=(0,r.toRgbBase)(this._colorObj)}getInput(){var t;return null!==(t=this._colorInput)&&void 0!==t?t:""}getColorObj(){return this._colorObj}getRgbObj(){return this._rgbObj}setInput(t){this._colorInput=t}setColorObj(t){this._colorObj=t}setRbgObj(t){this._rgbObj=t}setColor(t){this.setInput(t),this.setColorObj((0,e.inputParser)(this.getInput())),this.setRbgObj((0,r.toRgbBase)(this.getColorObj()))}isValid(){return void 0!==this.getColorObj().value}toRgb(){return(0,r.rgbNormalizedToRgb)(this.getRgbObj())}toRgbString(){const{r:t,g:r,b:e,a:o}=this.toRgb();return`${void 0!==o?"rgba":"rgb"}(${t}, ${r}, ${e}${void 0!==o?`, ${o}`:""})`}toNormalizedRgb(){return this.getRgbObj()}toNormalizedRgbString(){const{r:t,g:r,b:e,a:o}=this.getRgbObj();return`${void 0!==o?"rgba":"rgb"}(${t}, ${r}, ${e}${void 0!==o?`, ${o}`:""})`}fromRatio(){return"not implemented"}fromPercentageRgb(){return"not implemented"}toHsv(){return(0,r.rgbNormalizedToHsv)(this.getRgbObj())}toHsvString(){const{h:t,s:r,v:e}=this.toHsv();return`hsv(${t}, ${r}%, ${e}%)`}toHsl(){return(0,r.rgbNormalizedToHsl)(this.getRgbObj())}toHslString(){const{h:t,s:e,l:o}=(0,r.rgbNormalizedToHsl)(this.getRgbObj());return`hsl(${t}, ${e}%, ${o}%)`}toHex(){var t;return null!==(t=(0,r.rgbToHex)((0,r.rgbNormalizedToRgb)(this.getRgbObj())))&&void 0!==t?t:""}toHexString(){return`#${this.toHex()}`}toHex8(){const{r:t,g:e,b:o}=(0,r.rgbNormalizedToRgb)(this.getRgbObj()),i=this.getAlpha();return(0,r.rgbaToHex8)({r:t,g:e,b:o,a:i})}toHex8String(){return`#${this.toHex8()}`}toCmy(){return(0,r.rgbNormalizedToCmy)(this.getRgbObj())}toCmyk(){return(0,r.cmyToCmyk)(this.toCmy())}toXyz(){return(0,r.rgbToXyz)(this.getRgbObj())}toXyzString(){const{x:t,y:r,z:e}=this.toXyz();return`xyz(${t}, ${r}, ${e})`}toLab(){return(0,r.xyzToLab)(this.toXyz())}toLabString(){const{l:t,a:r,b:e}=this.toLab();return`lab(${t}, ${r}, ${e})`}toLch(){return(0,r.labToLch)(this.toLab())}toLchString(){const{l:t,c:r,h:e}=this.toLch();return`lch(${t}, ${r}, ${e})`}getBrightness(){return(0,o.calculateBrightness)((0,r.rgbNormalizedToRgb)(this.getRgbObj()))}getLuminance(){return(0,o.calculateLuminance)(this.getRgbObj())}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}getFormat(){return this.getColorObj().format}getAlpha(){let{a:t}=this.getRgbObj();return t=null!=t?t:1,t}setAlpha(t){if(t<0||t>1)throw new Error("Alpha value must be between 0 and 1");const{r:r,g:e,b:o}=this.getRgbObj(),i=t;this.setRbgObj({r:r,g:e,b:o,a:i})}toName(){const t=(0,o.truncateHex)(this.toHex());for(const r in i.default)if(i.default[r]===t)return r}toNearestNamedColor(){const t=(0,r.rgbNormalizedToRgb)(this.getRgbObj());return(0,o.findClosestColor)(t,i.namedColorsRgb)}toPercentageRgb(){const{r:t,g:r,b:e,a:o}=this.getRgbObj();return{r:void 0!==t?100*t:void 0,g:void 0!==r?100*r:void 0,b:void 0!==e?100*e:void 0,a:void 0!==o?this.getAlpha():void 0}}toPercentageRgbString(){const{r:t,g:r,b:e,a:o}=this.toPercentageRgb();return`${void 0!==o?"rgba":"rgb"}(${t}%, ${r}%, ${e}%${void 0!==o?`, ${o}`:""})`}equals(t){return this.toRgbString()===new s(t).toRgbString()}random(){this.setColorObj({format:"rgb",value:{r:Math.floor(256*Math.random()),g:Math.floor(256*Math.random()),b:Math.floor(256*Math.random())}}),this.setRbgObj((0,r.toRgbBase)(this.getColorObj()))}clone(){return new s(this.getInput())}readability(t){const r=this.getLuminance(),e=new s(t).getLuminance();return(Math.max(r,e)+.05)/(Math.min(r,e)+.05)}isReadable(t){const r=this.readability(t);return{AA:{large:r>=3,normal:r>=4.5,small:r>=7},AAA:{large:r>=4.5,normal:r>=7,small:r>=7}}}}exports.default=s}));
