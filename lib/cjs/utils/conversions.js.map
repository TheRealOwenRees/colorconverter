{"version":3,"file":"conversions.js","names":["_utilities","require","referenceWhiteConstants","x","y","z","toRgbBase","colorObj","format","rgbToNormalizedRgb","value","hexToRgb","hslToRgbNormalized","hsvToRgbNormalized","r","undefined","g","b","a","rgbNormalizedToRgb","rgb","_rgb$a","Math","round","rgbNormalizedToRgbPercent","_rgb$a2","rgbToHex","binaryRgb","toString","padStart","rgbaToHex8","rgba","_rgba$a","aHex","convertDecimalToHex","concat","rgbNormalizedToHsl","h","s","l","max","min","diff","rgbNormalizedToHsv","v","diffc","c","rr","gg","bb","hsl","_hsl$h","_hsl$s","_hsl$l","hue2rgb","p","q","t","hsv","_hsv$h","_hsv$s","_hsv$v","i","floor","f","mod","hexColor","hex","expandHex","parseInt","replace","xyzToLab","xyz","pow","labToLch","lab","atan2","PI","abs","sqrt","rgbNormalizedToCmy","m","cmyToCmyk","cmy","k","lchToLab","lch","hr","cos","sin","labToXyz","referenceWhite","arguments","length","y2","x2","z2","xyzToRgbNormalized","rgbToXyz"],"sources":["../../../src/utils/conversions.ts"],"sourcesContent":["/*\n    Color conversion functions. 'Normalized' means 0-1 range.\n\n    Formulae from:\n    https://www.easyrgb.com/en/math.php\n    https://gist.github.com/avisek/eadfbe7a7a169b1001a2d3affc21052e\n*/\n\nimport {\n  type CmykObject,\n  type ColorObjType,\n  type HslObject,\n  type HsvObject,\n  type LabObject,\n  type LchObject,\n  type RgbObject,\n  type XyzObject\n} from '../types'\nimport { convertDecimalToHex, expandHex } from './utilities'\n\nconst referenceWhiteConstants = {\n  x: 95.047,\n  y: 100,\n  z: 108.883\n}\n\nexport function toRgbBase (colorObj: ColorObjType): RgbObject {\n  if (colorObj.format === 'rgb' || colorObj.format === 'rgba') {\n    return rgbToNormalizedRgb(colorObj.value as RgbObject)\n  }\n  if (colorObj.format === 'hex' && typeof colorObj.value === 'string') {\n    return rgbToNormalizedRgb(hexToRgb(colorObj.value))\n  }\n  if (colorObj.format === 'hsl') {\n    return hslToRgbNormalized(colorObj.value as HslObject)\n  }\n  if (colorObj.format === 'hsv') {\n    return hsvToRgbNormalized(colorObj.value as HsvObject)\n  }\n\n  return {\n    r: undefined,\n    g: undefined,\n    b: undefined,\n    a: undefined\n  }\n}\n\nexport function rgbNormalizedToRgb (rgb: RgbObject): RgbObject {\n  return {\n    r: (rgb.r !== undefined) ? Math.round(rgb.r * 255) : undefined,\n    g: (rgb.g !== undefined) ? Math.round(rgb.g * 255) : undefined,\n    b: (rgb.b !== undefined) ? Math.round(rgb.b * 255) : undefined,\n    a: rgb.a ?? undefined\n  }\n}\n\nexport function rgbNormalizedToRgbPercent (rgb: RgbObject): RgbObject {\n  return {\n    r: (rgb.r !== undefined) ? Math.round(rgb.r * 100) : undefined,\n    g: (rgb.g !== undefined) ? Math.round(rgb.g * 100) : undefined,\n    b: (rgb.b !== undefined) ? Math.round(rgb.b * 100) : undefined,\n    a: rgb.a ?? undefined\n  }\n}\n\nexport function rgbToNormalizedRgb (rgb: RgbObject): RgbObject {\n  const { r, g, b, a } = rgb\n  return {\n    r: (r !== undefined) ? r / 255 : undefined,\n    g: (g !== undefined) ? g / 255 : undefined,\n    b: (b !== undefined) ? b / 255 : undefined,\n    a: a ?? undefined\n  }\n}\n\nexport function rgbToHex (rgb: RgbObject): string | undefined {\n  if (rgb.r === undefined || rgb.g === undefined || rgb.b === undefined) {\n    return undefined\n  }\n  const binaryRgb = (rgb.r << 16) | (rgb.g << 8) | rgb.b\n  return binaryRgb.toString(16).padStart(6, '0')\n}\n\nexport function rgbaToHex8 (rgba: RgbObject): string {\n  const binaryRgb = rgbToHex(rgba)\n  if (binaryRgb === undefined) {\n    return ''\n  }\n  const aHex = convertDecimalToHex(rgba.a ?? 1)\n  return `${binaryRgb.padStart(6, '0')}${aHex === '0' ? '00' : aHex}`\n}\n\nexport function rgbNormalizedToHsl (rgb: RgbObject): HslObject {\n  const { r, g, b } = rgb\n\n  if (r === undefined || g === undefined || b === undefined) {\n    return { h: undefined, s: undefined, l: undefined }\n  }\n\n  const max = Math.max(r, g, b)\n  const min = Math.min(r, g, b)\n\n  let h = (max + min) / 2\n  let s\n  const l = (max + min) / 2\n\n  if (max === min) {\n    h = 0\n    s = 0 // Achromatic\n  } else {\n    const diff = max - min\n    s = l > 0.5 ? diff / (2 - max - min) : diff / (max + min)\n\n    switch (max) {\n      case r:\n        h = (g - b) / diff + (g < b ? 6 : 0)\n        break\n      case g:\n        h = (b - r) / diff + 2\n        break\n      case b:\n        h = (r - g) / diff + 4\n        break\n      default:\n        break\n    }\n\n    h /= 6\n  }\n\n  return {\n    h: Math.round(h * 360),\n    s: Math.round(s * 100),\n    l: Math.round(l * 100)\n  }\n}\n\nexport function rgbNormalizedToHsv (rgb: RgbObject): HsvObject {\n  if (rgb.r === undefined || rgb.g === undefined || rgb.b === undefined) {\n    return {\n      h: undefined,\n      s: undefined,\n      v: undefined\n    }\n  }\n\n  const max = Math.max(rgb.r, rgb.g, rgb.b)\n  const min = Math.min(rgb.r, rgb.g, rgb.b)\n\n  let h = max\n  let s = max\n  const v = max\n\n  const diff = max - min\n  const diffc = (c: number): number => (max - c) / 6 / diff + 1 / 2\n\n  if (diff === 0) {\n    h = 0\n    s = 0\n  } else {\n    s = diff / max\n    const rr = diffc(rgb.r)\n    const gg = diffc(rgb.g)\n    const bb = diffc(rgb.b)\n\n    if (rgb.r === max) {\n      h = rgb.b - rgb.g\n    } else if (rgb.g === max) {\n      h = 1 / 3 + rr - bb\n    } else if (rgb.b === max) {\n      h = 2 / 3 + gg - rr\n    }\n\n    if (h < 0) {\n      h += 1\n    } else if (h > 1) {\n      h -= 1\n    }\n  }\n\n  return {\n    h: Math.round(h * 360),\n    s: Math.round(s * 100),\n    v: Math.round(v * 100)\n  }\n}\n\nexport function hslToRgbNormalized (hsl: HslObject): RgbObject {\n  function hue2rgb (p: number, q: number, t: number): number {\n    if (t < 0) {\n      t += 1\n    }\n\n    if (t > 1) {\n      t -= 1\n    }\n\n    if (t < 1 / 6) {\n      return p + (q - p) * 6 * t\n    }\n\n    if (t < 1 / 2) {\n      return q\n    }\n\n    if (t < 2 / 3) {\n      return p + (q - p) * (2 / 3 - t) * 6\n    }\n\n    return p\n  }\n\n  const h = (hsl.h ?? 0) / 360\n  const s = (hsl.s ?? 0) / 100\n  const l = (hsl.l ?? 0) / 100\n\n  let r\n  let g\n  let b\n\n  if (s === 0) {\n    r = g = b = l // Achromatic\n  } else {\n    const q = l < 0.5 ? l * (1 + s) : l + s - l * s\n    const p = 2 * l - q\n\n    r = hue2rgb(p, q, h + 1 / 3)\n    g = hue2rgb(p, q, h)\n    b = hue2rgb(p, q, h - 1 / 3)\n  }\n\n  return { r, g, b }\n}\n\nexport function hsvToRgbNormalized (hsv: HsvObject): RgbObject {\n  const h = (hsv.h ?? 0) / 360 * 6\n  const s = (hsv.s ?? 0) / 100\n  const v = (hsv.v ?? 0) / 100\n\n  const i = Math.floor(h)\n  const f = h - i\n  const p = v * (1 - s)\n  const q = v * (1 - f * s)\n  const t = v * (1 - (1 - f) * s)\n\n  const mod = i % 6\n\n  const r = [v, q, p, p, t, v][mod]\n  const g = [t, v, v, q, p, p][mod]\n  const b = [p, p, t, v, v, q][mod]\n  return { r, g, b }\n}\n\nexport function hexToRgb (hexColor: string): RgbObject {\n  const hex = expandHex(hexColor)\n  const rgb = parseInt(hex.replace('#', ''), 16)\n  return {\n    r: (rgb >> 16) & 0xff,\n    g: (rgb >> 8) & 0xff,\n    b: rgb & 0xff\n  }\n}\n\nexport function xyzToLab (xyz: XyzObject): LabObject {\n  let { x, y, z } = xyz\n\n  if (x === undefined || y === undefined || z === undefined) {\n    return {\n      l: undefined,\n      a: undefined,\n      b: undefined\n    }\n  }\n\n  x /= 95.047\n  y /= 100\n  z /= 108.883\n\n  x = (x > 0.008856) ? Math.pow(x, 1 / 3) : (7.787 * x) + 16 / 116\n  y = (y > 0.008856) ? Math.pow(y, 1 / 3) : (7.787 * y) + 16 / 116\n  z = (z > 0.008856) ? Math.pow(z, 1 / 3) : (7.787 * z) + 16 / 116\n\n  return {\n    l: (116 * y) - 16,\n    a: 500 * (x - y),\n    b: 200 * (y - z)\n  }\n}\n\nexport function labToLch (lab: LabObject): LchObject {\n  if (lab.l === undefined || lab.a === undefined || lab.b === undefined) {\n    return {\n      l: undefined,\n      c: undefined,\n      h: undefined\n    }\n  }\n  let h = Math.atan2(lab.b, lab.a)\n  h > 0 ? h = (h / Math.PI) * 180 : h = 360 - (Math.abs(h) / Math.PI) * 180\n\n  return {\n    l: lab.l,\n    c: Math.sqrt(lab.a * lab.a + lab.b * lab.b),\n    h\n  }\n}\n\nexport function rgbNormalizedToCmy (rgb: RgbObject): CmykObject {\n  if (rgb.r === undefined || rgb.g === undefined || rgb.b === undefined) {\n    return {\n      c: undefined,\n      m: undefined,\n      y: undefined\n    }\n  }\n  return {\n    c: 1 - (rgb.r),\n    m: 1 - (rgb.g),\n    y: 1 - (rgb.b)\n  }\n}\n\nexport function cmyToCmyk (cmy: CmykObject): CmykObject {\n  if (cmy.c === undefined || cmy.m === undefined || cmy.y === undefined) {\n    return {\n      c: undefined,\n      m: undefined,\n      y: undefined\n    }\n  }\n  let k: number = 1\n  if (cmy.c < k) k = cmy.c\n  if (cmy.m < k) k = cmy.m\n  if (cmy.y < k) k = cmy.y\n  if (k === 1) return { c: 0, m: 0, y: 0, k: 1 }\n  return {\n    c: (cmy.c - k) / (1 - k),\n    m: (cmy.m - k) / (1 - k),\n    y: (cmy.y - k) / (1 - k),\n    k\n  }\n}\n\nexport function lchToLab (lch: LchObject): LabObject {\n  if (lch.l === undefined || lch.c === undefined || lch.h === undefined) {\n    return {\n      l: undefined,\n      a: undefined,\n      b: undefined\n    }\n  }\n  const hr = lch.h * Math.PI / 180\n  return {\n    l: lch.l,\n    a: Math.cos(hr) * lch.c,\n    b: Math.sin(hr) * lch.c\n  }\n}\n\n/*\n    Reference white constants are based on the standard illuminant D65:\n    https://en.wikipedia.org/wiki/Illuminant_D65\n\n    The following is a list of reference white points for various standard illuminants:\n    https://en.wikipedia.org/wiki/Standard_illuminant#White_points_of_standard_illuminants\n\n    Pass in a custom reference white point if you want to use a different one, e.g.:\n    { x: 95.047, y: 100, z: 108.883 } for D65\n    { x: 96.422, y: 100, z: 82.521 } for D50\n    { x: 100, y: 100, z: 100 } for E\n*/\nexport function labToXyz (lab: LabObject, referenceWhite: Record<string, number> = referenceWhiteConstants): XyzObject {\n  if (lab.l === undefined || lab.a === undefined || lab.b === undefined) {\n    return {\n      x: undefined,\n      y: undefined,\n      z: undefined\n    }\n  }\n\n  let y = (lab.l + 16) / 116\n  let x = lab.a / 500 + y\n  let z = y - lab.b / 200\n\n  const y2 = Math.pow(y, 3)\n  const x2 = Math.pow(x, 3)\n  const z2 = Math.pow(z, 3)\n\n  y = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787\n  x = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787\n  z = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787\n\n  return {\n    x: x * referenceWhite.x,\n    y: y * referenceWhite.y,\n    z: z * referenceWhite.z\n  }\n}\n\nexport function xyzToRgbNormalized (xyz: XyzObject): RgbObject {\n  if (xyz.x === undefined || xyz.y === undefined || xyz.z === undefined) {\n    return {\n      r: undefined,\n      g: undefined,\n      b: undefined\n    }\n  }\n  let { x, y, z } = xyz\n  x /= 100\n  y /= 100\n  z /= 100\n\n  const r = x * 3.2406 + y * -1.5372 + z * -0.4986\n  const g = x * -0.9689 + y * 1.8758 + z * 0.0415\n  const b = x * 0.0557 + y * -0.2040 + z * 1.0570\n\n  return {\n    r: r > 0.0031308 ? 1.055 * Math.pow(r, 1 / 2.4) - 0.055 : r * 12.92,\n    g: g > 0.0031308 ? 1.055 * Math.pow(g, 1 / 2.4) - 0.055 : g * 12.92,\n    b: b > 0.0031308 ? 1.055 * Math.pow(b, 1 / 2.4) - 0.055 : b * 12.92\n  }\n}\n\nexport function rgbToXyz (rgb: RgbObject): XyzObject { // TODO work with normalised figures, round to sRGB\n  let { r, g, b } = rgb\n\n  if (r === undefined || g === undefined || b === undefined) {\n    return {\n      x: undefined,\n      y: undefined,\n      z: undefined\n    }\n  }\n\n  r = (r > 0.04045) ? Math.pow((r + 0.055) / 1.055, 2.4) : r / 12.92\n  g = (g > 0.04045) ? Math.pow((g + 0.055) / 1.055, 2.4) : g / 12.92\n  b = (b > 0.04045) ? Math.pow((b + 0.055) / 1.055, 2.4) : b / 12.92\n\n  r *= 100\n  g *= 100\n  b *= 100\n\n  return {\n    x: r * 0.4124 + g * 0.3576 + b * 0.1805,\n    y: r * 0.2126 + g * 0.7152 + b * 0.0722,\n    z: r * 0.0193 + g * 0.1192 + b * 0.9505\n  }\n}\n"],"mappings":"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"}