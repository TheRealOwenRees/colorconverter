{"version":3,"file":"conversions.js","names":["_utilities","require","referenceWhiteConstants","x","y","z","toRgbBase","colorObj","format","rgbToNormalizedRgb","value","hexToRgb","hslToRgbNormalized","hsvToRgbNormalized","lab","lchToLab","xyz","labToXyz","xyzToRgbNormalized","oklab","lRGB","okLabToLinearRbg","lRgbToNormalizedRgb","r","undefined","g","b","a","rgbNormalizedToRgb","rgb","_rgb$a","Math","round","rgbNormalizedToRgbPercent","_rgb$a2","lrgbToRgb","lrgb","_lrgb$a","Error","fn","c","arguments","length","abs","pow","rgbToHex","binaryRgb","toString","padStart","rgbaToHex8","rgba","_rgba$a","aHex","convertDecimalToHex","concat","rgbNormalizedToHsl","max","min","h","s","l","diff","rgbNormalizedToHsv","v","diffc","rr","gg","bb","hsl","_hsl$h","_hsl$s","_hsl$l","hue2rgb","p","q","t","hsv","_hsv$h","_hsv$s","_hsv$v","i","floor","f","mod","hexColor","hex","expandHex","parseInt","replace","rgbNormalizedToCmy","m","cmyToCmyk","cmy","k","xyzToLab","labToLch","atan2","PI","sqrt","lch","hr","cos","sin","referenceWhite","y2","x2","z2","rgbToXyz","M1","M2","invM1","invM2","xyzToOklab","L","cbrt","M","S","okLabToXyz","lRgb","findClosestColor","namedColorsRgb","minDistance","Infinity","closestColor","lab1","color","lab2","distance","labDeltaE"],"sources":["../../../src/utils/conversions.ts"],"sourcesContent":["/*\n  Color conversion functions. 'Normalized' means 0-1 range.\n  Formulae from https://www.easyrgb.com/en/math.php\n*/\n\nimport {\n  type CmykObject,\n  type ColorObjType,\n  type HslObject,\n  type HsvObject,\n  type LabObject,\n  type LchObject,\n  type RgbObject,\n  type XyzObject,\n} from \"../types\";\nimport { convertDecimalToHex, expandHex, labDeltaE } from \"./utilities\";\n\nconst referenceWhiteConstants = {\n  x: 95.047,\n  y: 100,\n  z: 108.883,\n};\n\n/*\n   RGB / RGBA conversions\n*/\n\nexport function toRgbBase(colorObj: ColorObjType): RgbObject {\n  if (colorObj.format === \"rgb\" || colorObj.format === \"rgba\") {\n    return rgbToNormalizedRgb(colorObj.value as RgbObject);\n  }\n  if (colorObj.format === \"hex\" && typeof colorObj.value === \"string\") {\n    return rgbToNormalizedRgb(hexToRgb(colorObj.value));\n  }\n  if (colorObj.format === \"hsl\") {\n    return hslToRgbNormalized(colorObj.value as HslObject);\n  }\n  if (colorObj.format === \"hsv\") {\n    return hsvToRgbNormalized(colorObj.value as HsvObject);\n  }\n  if (colorObj.format === \"lch\") {\n    const lab = lchToLab(colorObj.value as LchObject);\n    const xyz = labToXyz(lab);\n    return xyzToRgbNormalized(xyz);\n  }\n  if (colorObj.format === \"oklch\") {\n    const oklab = lchToLab(colorObj.value as LchObject);\n    const lRGB = okLabToLinearRbg(oklab);\n    return lRgbToNormalizedRgb(lRGB);\n  }\n\n  return {\n    r: undefined,\n    g: undefined,\n    b: undefined,\n    a: undefined,\n  };\n}\n\nexport function rgbNormalizedToRgb(rgb: RgbObject): RgbObject {\n  return {\n    r: rgb.r !== undefined ? Math.round(rgb.r * 255) : undefined,\n    g: rgb.g !== undefined ? Math.round(rgb.g * 255) : undefined,\n    b: rgb.b !== undefined ? Math.round(rgb.b * 255) : undefined,\n    a: rgb.a ?? undefined,\n  };\n}\n\nexport function rgbNormalizedToRgbPercent(rgb: RgbObject): RgbObject {\n  return {\n    r: rgb.r !== undefined ? Math.round(rgb.r * 100) : undefined,\n    g: rgb.g !== undefined ? Math.round(rgb.g * 100) : undefined,\n    b: rgb.b !== undefined ? Math.round(rgb.b * 100) : undefined,\n    a: rgb.a ?? undefined,\n  };\n}\n\nexport function rgbToNormalizedRgb(rgb: RgbObject): RgbObject {\n  const { r, g, b, a } = rgb;\n  return {\n    r: r !== undefined ? r / 255 : undefined,\n    g: g !== undefined ? g / 255 : undefined,\n    b: b !== undefined ? b / 255 : undefined,\n    a: a ?? undefined,\n  };\n}\n\nexport function lrgbToRgb(lrgb: RgbObject): RgbObject {\n  if (lrgb.r === undefined || lrgb.g === undefined || lrgb.b === undefined) {\n    throw new Error(\"RGB values must be defined\");\n  }\n\n  const fn = (c = 0): number => {\n    const abs = Math.abs(c);\n    return abs > 0.0031308\n      ? 1.055 * Math.pow(abs, 1 / 2.4) - 0.055\n      : 12.92 * abs;\n  };\n\n  return {\n    r: fn(lrgb.r),\n    g: fn(lrgb.g),\n    b: fn(lrgb.b),\n    a: lrgb.a ?? undefined,\n  };\n}\n\n/*\n  Hex / Hex8 conversions\n*/\n\nexport function rgbToHex(rgb: RgbObject): string | undefined {\n  if (rgb.r === undefined || rgb.g === undefined || rgb.b === undefined) {\n    return undefined;\n  }\n  const binaryRgb = (rgb.r << 16) | (rgb.g << 8) | rgb.b;\n  return binaryRgb.toString(16).padStart(6, \"0\");\n}\n\nexport function rgbaToHex8(rgba: RgbObject): string {\n  const binaryRgb = rgbToHex(rgba);\n  if (binaryRgb === undefined) {\n    return \"\";\n  }\n  const aHex = convertDecimalToHex(rgba.a ?? 1);\n  return `${binaryRgb.padStart(6, \"0\")}${aHex === \"0\" ? \"00\" : aHex}`;\n}\n\n/*\n    HSL / HSV conversions\n*/\n\nexport function rgbNormalizedToHsl(rgb: RgbObject): HslObject {\n  if (rgb.r === undefined || rgb.g === undefined || rgb.b === undefined) {\n    throw new Error(\"RGB values must be defined\");\n  }\n\n  const max = Math.max(rgb.r, rgb.g, rgb.b);\n  const min = Math.min(rgb.r, rgb.g, rgb.b);\n\n  let h = (max + min) / 2;\n  let s;\n  const l = (max + min) / 2;\n\n  if (max === min) {\n    h = 0;\n    s = 0; // Achromatic\n  } else {\n    const diff = max - min;\n    s = l > 0.5 ? diff / (2 - max - min) : diff / (max + min);\n\n    switch (max) {\n      case rgb.r:\n        h = (rgb.g - rgb.b) / diff + (rgb.g < rgb.b ? 6 : 0);\n        break;\n      case rgb.g:\n        h = (rgb.b - rgb.r) / diff + 2;\n        break;\n      case rgb.b:\n        h = (rgb.r - rgb.g) / diff + 4;\n        break;\n      default:\n        break;\n    }\n\n    h /= 6;\n  }\n\n  return {\n    h: Math.round(h * 360),\n    s: Math.round(s * 100),\n    l: Math.round(l * 100),\n  };\n}\n\nexport function rgbNormalizedToHsv(rgb: RgbObject): HsvObject {\n  if (rgb.r === undefined || rgb.g === undefined || rgb.b === undefined) {\n    throw new Error(\"RGB values must be defined\");\n  }\n\n  const max = Math.max(rgb.r, rgb.g, rgb.b);\n  const min = Math.min(rgb.r, rgb.g, rgb.b);\n\n  let h = max;\n  let s = max;\n  const v = max;\n\n  const diff = max - min;\n  const diffc = (c: number): number => (max - c) / 6 / diff + 1 / 2;\n\n  if (diff === 0) {\n    h = 0;\n    s = 0;\n  } else {\n    s = diff / max;\n    const rr = diffc(rgb.r);\n    const gg = diffc(rgb.g);\n    const bb = diffc(rgb.b);\n\n    if (rgb.r === max) {\n      h = rgb.b - rgb.g;\n    } else if (rgb.g === max) {\n      h = 1 / 3 + rr - bb;\n    } else if (rgb.b === max) {\n      h = 2 / 3 + gg - rr;\n    }\n\n    if (h < 0) {\n      h += 1;\n    } else if (h > 1) {\n      h -= 1;\n    }\n  }\n\n  return {\n    h: Math.round(h * 360),\n    s: Math.round(s * 100),\n    v: Math.round(v * 100),\n  };\n}\n\nexport function hslToRgbNormalized(hsl: HslObject): RgbObject {\n  function hue2rgb(p: number, q: number, t: number): number {\n    if (t < 0) {\n      t += 1;\n    }\n\n    if (t > 1) {\n      t -= 1;\n    }\n\n    if (t < 1 / 6) {\n      return p + (q - p) * 6 * t;\n    }\n\n    if (t < 1 / 2) {\n      return q;\n    }\n\n    if (t < 2 / 3) {\n      return p + (q - p) * (2 / 3 - t) * 6;\n    }\n\n    return p;\n  }\n\n  const h = (hsl.h ?? 0) / 360;\n  const s = (hsl.s ?? 0) / 100;\n  const l = (hsl.l ?? 0) / 100;\n\n  let r;\n  let g;\n  let b;\n\n  if (s === 0) {\n    r = g = b = l; // Achromatic\n  } else {\n    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    const p = 2 * l - q;\n\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n\n  return { r, g, b };\n}\n\nexport function hsvToRgbNormalized(hsv: HsvObject): RgbObject {\n  const h = ((hsv.h ?? 0) / 360) * 6;\n  const s = (hsv.s ?? 0) / 100;\n  const v = (hsv.v ?? 0) / 100;\n\n  const i = Math.floor(h);\n  const f = h - i;\n  const p = v * (1 - s);\n  const q = v * (1 - f * s);\n  const t = v * (1 - (1 - f) * s);\n\n  const mod = i % 6;\n\n  const r = [v, q, p, p, t, v][mod];\n  const g = [t, v, v, q, p, p][mod];\n  const b = [p, p, t, v, v, q][mod];\n  return { r, g, b };\n}\n\nexport function hexToRgb(hexColor: string): RgbObject {\n  const hex = expandHex(hexColor);\n  const rgb = parseInt(hex.replace(\"#\", \"\"), 16);\n  return {\n    r: (rgb >> 16) & 0xff,\n    g: (rgb >> 8) & 0xff,\n    b: rgb & 0xff,\n  };\n}\n\n/*\n  CMY / CMYK conversions\n*/\n\nexport function rgbNormalizedToCmy(rgb: RgbObject): CmykObject {\n  if (rgb.r === undefined || rgb.g === undefined || rgb.b === undefined) {\n    throw new Error(\"RGB values must be defined\");\n  }\n\n  return {\n    c: 1 - rgb.r,\n    m: 1 - rgb.g,\n    y: 1 - rgb.b,\n  };\n}\n\nexport function cmyToCmyk(cmy: CmykObject): CmykObject {\n  if (cmy.c === undefined || cmy.m === undefined || cmy.y === undefined) {\n    throw new Error(\"CMY values must be defined\");\n  }\n\n  let k: number = 1;\n  if (cmy.c < k) k = cmy.c;\n  if (cmy.m < k) k = cmy.m;\n  if (cmy.y < k) k = cmy.y;\n  if (k === 1) return { c: 0, m: 0, y: 0, k: 1 };\n  return {\n    c: (cmy.c - k) / (1 - k),\n    m: (cmy.m - k) / (1 - k),\n    y: (cmy.y - k) / (1 - k),\n    k,\n  };\n}\n\n/*\n  XYZ, CIE-L*ab, CIE-L*Ch(ab) conversions\n\n  X, Y and Z output refers to a D65/2Â° standard illuminant.\n\n  Reference white constants are based on the standard illuminant D65:\n  https://en.wikipedia.org/wiki/Illuminant_D65\n\n  The following is a list of reference white points for various standard illuminants:\n  https://en.wikipedia.org/wiki/Standard_illuminant#White_points_of_standard_illuminants\n\n  Pass in a custom reference white point if you want to use a different one, e.g.:\n  { x: 95.047, y: 100, z: 108.883 } for D65\n  { x: 96.422, y: 100, z: 82.521 } for D50\n  { x: 100, y: 100, z: 100 } for E\n*/\n\n// TODO deprecate XYZ, use modern conversions of lRGB instead\n\nexport function xyzToLab(xyz: XyzObject): LabObject {\n  let { x, y, z } = xyz;\n\n  if (x === undefined || y === undefined || z === undefined) {\n    throw new Error(\"XYZ values must be defined\");\n  }\n\n  x /= 95.047;\n  y /= 100;\n  z /= 108.883;\n\n  x = x > 0.008856 ? Math.pow(x, 1 / 3) : 7.787 * x + 16 / 116;\n  y = y > 0.008856 ? Math.pow(y, 1 / 3) : 7.787 * y + 16 / 116;\n  z = z > 0.008856 ? Math.pow(z, 1 / 3) : 7.787 * z + 16 / 116;\n\n  return {\n    l: 116 * y - 16,\n    a: 500 * (x - y),\n    b: 200 * (y - z),\n  };\n}\n\nexport function labToLch(lab: LabObject): LchObject {\n  if (lab.l === undefined || lab.a === undefined || lab.b === undefined) {\n    throw new Error(\"LAB values must be defined\");\n  }\n\n  let h = Math.atan2(lab.b, lab.a);\n  h > 0 ? (h = (h / Math.PI) * 180) : (h = 360 - (Math.abs(h) / Math.PI) * 180);\n\n  return {\n    l: lab.l,\n    c: Math.sqrt(lab.a * lab.a + lab.b * lab.b),\n    h,\n  };\n}\n\nexport function lchToLab(lch: LchObject): LabObject {\n  if (lch.l === undefined || lch.c === undefined || lch.h === undefined) {\n    throw new Error(\"LCH values must be defined\");\n  }\n\n  const hr = (lch.h * Math.PI) / 180;\n\n  return {\n    l: lch.l,\n    a: Math.cos(hr) * lch.c,\n    b: Math.sin(hr) * lch.c,\n  };\n}\n\nexport function labToXyz(\n  lab: LabObject,\n  referenceWhite: Record<string, number> = referenceWhiteConstants,\n): XyzObject {\n  if (lab.l === undefined || lab.a === undefined || lab.b === undefined) {\n    throw new Error(\"LAB values must be defined\");\n  }\n\n  let y = (lab.l + 16) / 116;\n  let x = lab.a / 500 + y;\n  let z = y - lab.b / 200;\n\n  const y2 = Math.pow(y, 3);\n  const x2 = Math.pow(x, 3);\n  const z2 = Math.pow(z, 3);\n\n  y = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n  x = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n  z = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n  return {\n    x: x * referenceWhite.x,\n    y: y * referenceWhite.y,\n    z: z * referenceWhite.z,\n  };\n}\n\nexport function xyzToRgbNormalized(xyz: XyzObject): RgbObject {\n  if (xyz.x === undefined || xyz.y === undefined || xyz.z === undefined) {\n    return {\n      r: undefined,\n      g: undefined,\n      b: undefined,\n    };\n  }\n  let { x, y, z } = xyz;\n  x /= 100;\n  y /= 100;\n  z /= 100;\n\n  const r = x * 3.2406 + y * -1.5372 + z * -0.4986;\n  const g = x * -0.9689 + y * 1.8758 + z * 0.0415;\n  const b = x * 0.0557 + y * -0.204 + z * 1.057;\n\n  return {\n    r: r > 0.0031308 ? 1.055 * Math.pow(r, 1 / 2.4) - 0.055 : r * 12.92,\n    g: g > 0.0031308 ? 1.055 * Math.pow(g, 1 / 2.4) - 0.055 : g * 12.92,\n    b: b > 0.0031308 ? 1.055 * Math.pow(b, 1 / 2.4) - 0.055 : b * 12.92,\n  };\n}\n\nexport function rgbToXyz(rgb: RgbObject): XyzObject {\n  let { r, g, b } = rgb;\n\n  if (r === undefined || g === undefined || b === undefined) {\n    throw new Error(\"RGB values must be defined\");\n  }\n\n  r = r > 0.04045 ? Math.pow((r + 0.055) / 1.055, 2.4) : r / 12.92;\n  g = g > 0.04045 ? Math.pow((g + 0.055) / 1.055, 2.4) : g / 12.92;\n  b = b > 0.04045 ? Math.pow((b + 0.055) / 1.055, 2.4) : b / 12.92;\n\n  r *= 100;\n  g *= 100;\n  b *= 100;\n\n  return {\n    x: r * 0.4124 + g * 0.3576 + b * 0.1805,\n    y: r * 0.2126 + g * 0.7152 + b * 0.0722,\n    z: r * 0.0193 + g * 0.1192 + b * 0.9505,\n  };\n}\n\n/*\n  OKLAB <- -> XYZ conversions\n  Formula from https://bottosson.github.io/posts/oklab/\n\n  OKLAB uses a D65/10Â° standard illuminant.\n\n  OKLCH uses the same conversion as LCH, but with the OKLAB color space.\n*/\n\nconst M1 = [\n  [0.8189330101, 0.3618667424, -0.1288597137],\n  [0.0329845436, 0.9293118715, 0.0361456387],\n  [0.0482003018, 0.2643662691, 0.633851707],\n];\n\nconst M2 = [\n  [0.2104542553, 0.793617785, -0.0040720468],\n  [1.9779984951, -2.428592205, 0.4505937099],\n  [0.0259040371, 0.7827717662, -0.808675766],\n];\n\nconst invM1 = [\n  [1.2270138511035211, -0.5577999806518222, 0.28125614896646783],\n  [-0.04058017842328059, 1.1122568696168302, -0.07167667866560119],\n  [-0.0763812845057069, -0.4214819784180127, 1.586163220440795],\n];\n\nconst invM2 = [\n  [0.9999999984505199, 0.3963377921737679, 0.21580375806075883],\n  [1.0000000088817609, -0.10556134232365635, -0.0638541747717059],\n  [1.000000054672411, -0.08948418209496577, -1.291485537864092],\n];\n\nexport function xyzToOklab(xyz: XyzObject): LabObject {\n  if (xyz.x === undefined || xyz.y === undefined || xyz.z === undefined) {\n    throw new Error(\"XYZ values must be defined\");\n  }\n\n  const L = Math.cbrt(xyz.x * M1[0][0] + xyz.y * M1[0][1] + xyz.z * M1[0][2]);\n  const M = Math.cbrt(xyz.x * M1[1][0] + xyz.y * M1[1][1] + xyz.z * M1[1][2]);\n  const S = Math.cbrt(xyz.x * M1[2][0] + xyz.y * M1[2][1] + xyz.z * M1[2][2]);\n\n  return {\n    l: M2[0][0] * L + M2[0][1] * M + M2[0][2] * S,\n    a: M2[1][0] * L + M2[1][1] * M + M2[1][2] * S,\n    b: M2[2][0] * L + M2[2][1] * M + M2[2][2] * S,\n  };\n}\n\n// TODO giving largely inflated numbers\nexport function okLabToXyz(oklab: LabObject): XyzObject {\n  if (oklab.l === undefined || oklab.a === undefined || oklab.b === undefined) {\n    throw new Error(\"OKLAB values must be defined\");\n  }\n\n  const L = Math.pow(\n    oklab.l * invM2[0][0] + oklab.a * invM2[0][1] + oklab.b * invM2[0][2],\n    3,\n  );\n  const M = Math.pow(\n    oklab.l * invM2[1][0] + oklab.a * invM2[1][1] + oklab.b * invM2[1][2],\n    3,\n  );\n  const S = Math.pow(\n    oklab.l * invM2[2][0] + oklab.a * invM2[2][1] + oklab.b * invM2[2][2],\n    3,\n  );\n\n  return {\n    x: L * invM1[0][0] + M * invM1[0][1] + S * invM1[0][2],\n    y: L * invM1[1][0] + M * invM1[1][1] + S * invM1[1][2],\n    z: L * invM1[2][0] + M * invM1[2][1] + S * invM1[2][2],\n  };\n}\n\nexport function okLabToLinearRbg(oklab: LabObject): RgbObject {\n  let L = oklab.l / 100 + 0.3963377774 * oklab.a + 0.2158037573 * oklab.b;\n  let M = oklab.l / 100 - 0.1055613458 * oklab.a - 0.0638541728 * oklab.b;\n  let S = oklab.l / 100 - 0.0894841775 * oklab.a - 1.291485548 * oklab.b;\n\n  L = L * L * L;\n  M = M * M * M;\n  S = S * S * S;\n\n  return {\n    r: 4.0767416621 * L - 3.3077115913 * M + 0.2309699292 * S,\n    g: -1.2684380046 * L + 2.6097574011 * M - 0.3413193965 * S,\n    b: -0.0041960863 * L - 0.7034186147 * M + 1.707614701 * S,\n  };\n}\n\nexport function lRgbToNormalizedRgb(lRgb: RgbObject): RgbObject {\n  const fn = (c = 0): number => {\n    const abs = Math.abs(c);\n    return abs > 0.0031308\n      ? 1.055 * Math.pow(abs, 1 / 2.4) - 0.055\n      : 12.92 * abs;\n  };\n\n  return {\n    r: fn(lRgb.r),\n    g: fn(lRgb.g),\n    b: fn(lRgb.b),\n  };\n}\n\n/*\n  Other conversions\n*/\nexport function findClosestColor(\n  rgb: RgbObject,\n  namedColorsRgb: Record<string, RgbObject>,\n): string {\n  let minDistance = Infinity;\n  let closestColor = \"\";\n  const lab1 = xyzToLab(rgbToXyz(rgb));\n  for (const color in namedColorsRgb) {\n    const lab2 = xyzToLab(rgbToXyz(namedColorsRgb[color]));\n    const distance = labDeltaE(lab1, lab2);\n    if (distance < minDistance) {\n      closestColor = color;\n      minDistance = distance;\n    }\n  }\n  return closestColor;\n}\n"],"mappings":"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"}